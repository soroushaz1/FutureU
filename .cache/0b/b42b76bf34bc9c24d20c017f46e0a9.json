{"id":"node_modules/@babylonjs/core/Shaders/ShadersInclude/pbrBlockFinalLitComponents.js","dependencies":[{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\ShadersInclude\\pbrBlockFinalLitComponents.js.map","includedInParent":true,"mtime":1704105649758},{"name":"F:\\FutureU\\babylonjs\\package.json","includedInParent":true,"mtime":1704105536080},{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\package.json","includedInParent":true,"mtime":1704105648327},{"name":"../../Engines/shaderStore.js","loc":{"line":2,"column":28,"index":44},"parent":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\ShadersInclude\\pbrBlockFinalLitComponents.js","resolved":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Engines\\shaderStore.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pbrBlockFinalLitComponents = void 0;\nvar _shaderStore = require(\"../../Engines/shaderStore.js\");\n// Do not edit.\n\nconst name = \"pbrBlockFinalLitComponents\";\nconst shader = `#if defined(ENVIRONMENTBRDF)\n#ifdef MS_BRDF_ENERGY_CONSERVATION\nvec3 energyConservationFactor=getEnergyConservationFactor(clearcoatOut.specularEnvironmentR0,environmentBrdf);\n#endif\n#endif\n#ifndef METALLICWORKFLOW\n#ifdef SPECULAR_GLOSSINESS_ENERGY_CONSERVATION\nsurfaceAlbedo.rgb=(1.-reflectance)*surfaceAlbedo.rgb;\n#endif\n#endif\n#if defined(SHEEN) && defined(SHEEN_ALBEDOSCALING) && defined(ENVIRONMENTBRDF)\nsurfaceAlbedo.rgb=sheenOut.sheenAlbedoScaling*surfaceAlbedo.rgb;\n#endif\n#ifdef REFLECTION\nvec3 finalIrradiance=reflectionOut.environmentIrradiance;\n#if defined(CLEARCOAT)\nfinalIrradiance*=clearcoatOut.conservationFactor;\n#if defined(CLEARCOAT_TINT)\nfinalIrradiance*=clearcoatOut.absorption;\n#endif\n#endif\n#if defined(SS_REFRACTION)\nfinalIrradiance*=subSurfaceOut.refractionFactorForIrradiance;\n#endif\n#if defined(SS_TRANSLUCENCY)\nfinalIrradiance*=(1.0-subSurfaceOut.translucencyIntensity);\nfinalIrradiance+=subSurfaceOut.refractionIrradiance;\n#endif\nfinalIrradiance*=surfaceAlbedo.rgb;\nfinalIrradiance*=vLightingIntensity.z;\nfinalIrradiance*=aoOut.ambientOcclusionColor;\n#endif\n#ifdef SPECULARTERM\nvec3 finalSpecular=specularBase;\nfinalSpecular=max(finalSpecular,0.0);\nvec3 finalSpecularScaled=finalSpecular*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalSpecularScaled*=energyConservationFactor;\n#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalSpecularScaled*=sheenOut.sheenAlbedoScaling;\n#endif\n#endif\n#ifdef REFLECTION\nvec3 finalRadiance=reflectionOut.environmentRadiance.rgb;\nfinalRadiance*=subSurfaceOut.specularEnvironmentReflectance;\nvec3 finalRadianceScaled=finalRadiance*vLightingIntensity.z;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalRadianceScaled*=energyConservationFactor;\n#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalRadianceScaled*=sheenOut.sheenAlbedoScaling;\n#endif\n#endif\n#ifdef SHEEN\nvec3 finalSheen=sheenBase*sheenOut.sheenColor;\nfinalSheen=max(finalSheen,0.0);\nvec3 finalSheenScaled=finalSheen*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(CLEARCOAT) && defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.conservationFactor;\n#if defined(CLEARCOAT_TINT)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.absorption;\n#endif\n#endif\n#endif\n#ifdef CLEARCOAT\nvec3 finalClearCoat=clearCoatBase;\nfinalClearCoat=max(finalClearCoat,0.0);\nvec3 finalClearCoatScaled=finalClearCoat*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalClearCoatScaled*=clearcoatOut.energyConservationFactorClearCoat;\n#endif\n#ifdef SS_REFRACTION\nsubSurfaceOut.finalRefraction*=clearcoatOut.conservationFactor;\n#ifdef CLEARCOAT_TINT\nsubSurfaceOut.finalRefraction*=clearcoatOut.absorption;\n#endif\n#endif\n#endif\n#ifdef ALPHABLEND\nfloat luminanceOverAlpha=0.0;\n#if defined(REFLECTION) && defined(RADIANCEOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalRadianceScaled);\n#if defined(CLEARCOAT)\nluminanceOverAlpha+=getLuminance(clearcoatOut.finalClearCoatRadianceScaled);\n#endif\n#endif\n#if defined(SPECULARTERM) && defined(SPECULAROVERALPHA)\nluminanceOverAlpha+=getLuminance(finalSpecularScaled);\n#endif\n#if defined(CLEARCOAT) && defined(CLEARCOATOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalClearCoatScaled);\n#endif\n#if defined(RADIANCEOVERALPHA) || defined(SPECULAROVERALPHA) || defined(CLEARCOATOVERALPHA)\nalpha=saturate(alpha+luminanceOverAlpha*luminanceOverAlpha);\n#endif\n#endif\n`;\n// Sideeffect\n_shaderStore.ShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nconst pbrBlockFinalLitComponents = exports.pbrBlockFinalLitComponents = {\n  name,\n  shader\n};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":16}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":19}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":26}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":4,"column":6},"generated":{"line":10,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":10,"column":10}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":10,"column":13}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":4,"column":41},"generated":{"line":10,"column":41}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":11,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":5,"column":12},"generated":{"line":11,"column":12}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":5,"column":15},"generated":{"line":11,"column":15}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":102,"column":1},"generated":{"line":108,"column":1}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":103,"column":0},"generated":{"line":109,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":0},"generated":{"line":110,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":11},"generated":{"line":110,"column":24}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":12},"generated":{"line":110,"column":25}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":32},"generated":{"line":110,"column":45}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":33},"generated":{"line":110,"column":46}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":37},"generated":{"line":110,"column":50}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":38},"generated":{"line":110,"column":51}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":41},"generated":{"line":110,"column":54}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":104,"column":47},"generated":{"line":110,"column":60}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":105,"column":0},"generated":{"line":111,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":7},"generated":{"line":112,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":13},"generated":{"line":112,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":112,"column":32}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":112,"column":35}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":112,"column":42}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":112,"column":43}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":39},"generated":{"line":112,"column":69}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":42},"generated":{"line":112,"column":72}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":44},"generated":{"line":113,"column":2}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":48},"generated":{"line":113,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":50},"generated":{"line":114,"column":2}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":56},"generated":{"line":115,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts","name":null,"original":{"line":106,"column":58},"generated":{"line":115,"column":1}}],"sources":{"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrBlockFinalLitComponents.ts":"// Do not edit.\nimport { ShaderStore } from \"../../Engines/shaderStore\";\n\nconst name = \"pbrBlockFinalLitComponents\";\nconst shader = `#if defined(ENVIRONMENTBRDF)\n#ifdef MS_BRDF_ENERGY_CONSERVATION\nvec3 energyConservationFactor=getEnergyConservationFactor(clearcoatOut.specularEnvironmentR0,environmentBrdf);\r#endif\n#endif\n#ifndef METALLICWORKFLOW\n#ifdef SPECULAR_GLOSSINESS_ENERGY_CONSERVATION\nsurfaceAlbedo.rgb=(1.-reflectance)*surfaceAlbedo.rgb;\r#endif\n#endif\n#if defined(SHEEN) && defined(SHEEN_ALBEDOSCALING) && defined(ENVIRONMENTBRDF)\nsurfaceAlbedo.rgb=sheenOut.sheenAlbedoScaling*surfaceAlbedo.rgb;\r#endif\n#ifdef REFLECTION\nvec3 finalIrradiance=reflectionOut.environmentIrradiance;\r#if defined(CLEARCOAT)\nfinalIrradiance*=clearcoatOut.conservationFactor;\r#if defined(CLEARCOAT_TINT)\nfinalIrradiance*=clearcoatOut.absorption;\r#endif\n#endif\n#if defined(SS_REFRACTION)\nfinalIrradiance*=subSurfaceOut.refractionFactorForIrradiance;\r#endif\n#if defined(SS_TRANSLUCENCY)\nfinalIrradiance*=(1.0-subSurfaceOut.translucencyIntensity);\rfinalIrradiance+=subSurfaceOut.refractionIrradiance;\r#endif\nfinalIrradiance*=surfaceAlbedo.rgb;\rfinalIrradiance*=vLightingIntensity.z;\rfinalIrradiance*=aoOut.ambientOcclusionColor;\r#endif\n#ifdef SPECULARTERM\nvec3 finalSpecular=specularBase;\rfinalSpecular=max(finalSpecular,0.0);\rvec3 finalSpecularScaled=finalSpecular*vLightingIntensity.x*vLightingIntensity.w;\r#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalSpecularScaled*=energyConservationFactor;\r#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalSpecularScaled*=sheenOut.sheenAlbedoScaling;\r#endif\n#endif\n#ifdef REFLECTION\nvec3 finalRadiance=reflectionOut.environmentRadiance.rgb;\rfinalRadiance*=subSurfaceOut.specularEnvironmentReflectance;\rvec3 finalRadianceScaled=finalRadiance*vLightingIntensity.z;\r#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalRadianceScaled*=energyConservationFactor;\r#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalRadianceScaled*=sheenOut.sheenAlbedoScaling;\r#endif\n#endif\n#ifdef SHEEN\nvec3 finalSheen=sheenBase*sheenOut.sheenColor;\rfinalSheen=max(finalSheen,0.0);\rvec3 finalSheenScaled=finalSheen*vLightingIntensity.x*vLightingIntensity.w;\r#if defined(CLEARCOAT) && defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.conservationFactor;\r#if defined(CLEARCOAT_TINT)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.absorption;\r#endif\n#endif\n#endif\n#ifdef CLEARCOAT\nvec3 finalClearCoat=clearCoatBase;\rfinalClearCoat=max(finalClearCoat,0.0);\rvec3 finalClearCoatScaled=finalClearCoat*vLightingIntensity.x*vLightingIntensity.w;\r#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalClearCoatScaled*=clearcoatOut.energyConservationFactorClearCoat;\r#endif\n#ifdef SS_REFRACTION\nsubSurfaceOut.finalRefraction*=clearcoatOut.conservationFactor;\r#ifdef CLEARCOAT_TINT\nsubSurfaceOut.finalRefraction*=clearcoatOut.absorption;\r#endif\n#endif\n#endif\n#ifdef ALPHABLEND\nfloat luminanceOverAlpha=0.0;\r#if defined(REFLECTION) && defined(RADIANCEOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalRadianceScaled);\r#if defined(CLEARCOAT)\nluminanceOverAlpha+=getLuminance(clearcoatOut.finalClearCoatRadianceScaled);\r#endif\n#endif\n#if defined(SPECULARTERM) && defined(SPECULAROVERALPHA)\nluminanceOverAlpha+=getLuminance(finalSpecularScaled);\r#endif\n#if defined(CLEARCOAT) && defined(CLEARCOATOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalClearCoatScaled);\r#endif\n#if defined(RADIANCEOVERALPHA) || defined(SPECULAROVERALPHA) || defined(CLEARCOATOVERALPHA)\nalpha=saturate(alpha+luminanceOverAlpha*luminanceOverAlpha);\r#endif\n#endif\n`;\n// Sideeffect\nShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nexport const pbrBlockFinalLitComponents = { name, shader };\n"},"lineCount":null}},"error":null,"hash":"e506401a135c43dcf9b2313591122043","cacheData":{"env":{}}}