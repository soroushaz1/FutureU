{"id":"node_modules/@babylonjs/core/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.js","dependencies":[{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\ShadersInclude\\pbrDirectLightingSetupFunctions.js.map","includedInParent":true,"mtime":1704105649773},{"name":"F:\\FutureU\\babylonjs\\package.json","includedInParent":true,"mtime":1704105536080},{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\package.json","includedInParent":true,"mtime":1704105648327},{"name":"../../Engines/shaderStore.js","loc":{"line":2,"column":28,"index":44},"parent":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\ShadersInclude\\pbrDirectLightingSetupFunctions.js","resolved":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Engines\\shaderStore.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pbrDirectLightingSetupFunctions = void 0;\nvar _shaderStore = require(\"../../Engines/shaderStore.js\");\n// Do not edit.\n\nconst name = \"pbrDirectLightingSetupFunctions\";\nconst shader = `struct preLightingInfo\n{\nvec3 lightOffset;\nfloat lightDistanceSquared;\nfloat lightDistance;\nfloat attenuation;\nvec3 L;\nvec3 H;\nfloat NdotV;\nfloat NdotLUnclamped;\nfloat NdotL;\nfloat VdotH;\nfloat roughness;\n#ifdef IRIDESCENCE\nfloat iridescenceIntensity;\n#endif\n};\npreLightingInfo computePointAndSpotPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.lightOffset=lightData.xyz-vPositionW;\nresult.lightDistanceSquared=dot(result.lightOffset,result.lightOffset);\nresult.lightDistance=sqrt(result.lightDistanceSquared);\nresult.L=normalize(result.lightOffset);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeDirectionalPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.lightDistance=length(-lightData.xyz);\nresult.L=normalize(-lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeHemisphericPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\nresult.NdotL=dot(N,lightData.xyz)*0.5+0.5;\nresult.NdotL=saturateEps(result.NdotL);\nresult.NdotLUnclamped=result.NdotL;\n#ifdef SPECULARTERM\nresult.L=normalize(lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\n#endif\nreturn result;\n}`;\n// Sideeffect\n_shaderStore.ShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nconst pbrDirectLightingSetupFunctions = exports.pbrDirectLightingSetupFunctions = {\n  name,\n  shader\n};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":16}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":19}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":26}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":4,"column":6},"generated":{"line":10,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":10,"column":10}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":10,"column":13}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":4,"column":46},"generated":{"line":10,"column":46}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":11,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":5,"column":12},"generated":{"line":11,"column":12}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":5,"column":15},"generated":{"line":11,"column":15}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":55,"column":2},"generated":{"line":61,"column":2}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":56,"column":0},"generated":{"line":62,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":0},"generated":{"line":63,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":63,"column":24}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":12},"generated":{"line":63,"column":25}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":32},"generated":{"line":63,"column":45}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":33},"generated":{"line":63,"column":46}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":37},"generated":{"line":63,"column":50}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":38},"generated":{"line":63,"column":51}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":41},"generated":{"line":63,"column":54}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":57,"column":47},"generated":{"line":63,"column":60}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":58,"column":0},"generated":{"line":64,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":7},"generated":{"line":65,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":13},"generated":{"line":65,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":65,"column":37}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":65,"column":40}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":65,"column":47}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":65,"column":48}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":44},"generated":{"line":65,"column":79}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":47},"generated":{"line":65,"column":82}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":49},"generated":{"line":66,"column":2}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":53},"generated":{"line":66,"column":6}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":55},"generated":{"line":67,"column":2}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":61},"generated":{"line":68,"column":0}},{"source":"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts","name":null,"original":{"line":59,"column":63},"generated":{"line":68,"column":1}}],"sources":{"../../../../../lts/core/generated/Shaders/ShadersInclude/pbrDirectLightingSetupFunctions.ts":"// Do not edit.\nimport { ShaderStore } from \"../../Engines/shaderStore\";\n\nconst name = \"pbrDirectLightingSetupFunctions\";\nconst shader = `struct preLightingInfo\r{\rvec3 lightOffset;\rfloat lightDistanceSquared;\rfloat lightDistance;\rfloat attenuation;\rvec3 L;\rvec3 H;\rfloat NdotV;\rfloat NdotLUnclamped;\rfloat NdotL;\rfloat VdotH;\rfloat roughness;\r#ifdef IRIDESCENCE\nfloat iridescenceIntensity;\r#endif\n};\rpreLightingInfo computePointAndSpotPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.lightOffset=lightData.xyz-vPositionW;\rresult.lightDistanceSquared=dot(result.lightOffset,result.lightOffset);\rresult.lightDistance=sqrt(result.lightDistanceSquared);\rresult.L=normalize(result.lightOffset);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\rresult.NdotLUnclamped=dot(N,result.L);\rresult.NdotL=saturateEps(result.NdotLUnclamped);\rreturn result;\r}\rpreLightingInfo computeDirectionalPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.lightDistance=length(-lightData.xyz);\rresult.L=normalize(-lightData.xyz);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\rresult.NdotLUnclamped=dot(N,result.L);\rresult.NdotL=saturateEps(result.NdotLUnclamped);\rreturn result;\r}\rpreLightingInfo computeHemisphericPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\rpreLightingInfo result;\rresult.NdotL=dot(N,lightData.xyz)*0.5+0.5;\rresult.NdotL=saturateEps(result.NdotL);\rresult.NdotLUnclamped=result.NdotL;\r#ifdef SPECULARTERM\nresult.L=normalize(lightData.xyz);\rresult.H=normalize(V+result.L);\rresult.VdotH=saturate(dot(V,result.H));\r#endif\nreturn result;\r}`;\n// Sideeffect\nShaderStore.IncludesShadersStore[name] = shader;\n/** @internal */\nexport const pbrDirectLightingSetupFunctions = { name, shader };\n"},"lineCount":null}},"error":null,"hash":"df0fbcec4e0aa9a204ca6e2240eeb089","cacheData":{"env":{}}}