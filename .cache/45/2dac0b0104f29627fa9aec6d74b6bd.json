{"id":"node_modules/@babylonjs/core/Shaders/tonemap.fragment.js","dependencies":[{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\tonemap.fragment.js.map","includedInParent":true,"mtime":1704105650019},{"name":"F:\\FutureU\\babylonjs\\package.json","includedInParent":true,"mtime":1704105536080},{"name":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\package.json","includedInParent":true,"mtime":1704105648327},{"name":"../Engines/shaderStore.js","loc":{"line":2,"column":28,"index":44},"parent":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Shaders\\tonemap.fragment.js","resolved":"F:\\FutureU\\babylonjs\\node_modules\\@babylonjs\\core\\Engines\\shaderStore.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.tonemapPixelShader = void 0;\nvar _shaderStore = require(\"../Engines/shaderStore.js\");\n// Do not edit.\n\nconst name = \"tonemapPixelShader\";\nconst shader = `varying vec2 vUV;\nuniform sampler2D textureSampler;\nuniform float _ExposureAdjustment;\n#if defined(HABLE_TONEMAPPING)\nconst float A=0.15;\nconst float B=0.50;\nconst float C=0.10;\nconst float D=0.20;\nconst float E=0.02;\nconst float F=0.30;\nconst float W=11.2;\n#endif\nfloat Luminance(vec3 c)\n{\nreturn dot(c,vec3(0.22,0.707,0.071));\n}\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) \n{\nvec3 colour=texture2D(textureSampler,vUV).rgb;\n#if defined(REINHARD_TONEMAPPING)\nfloat lum=Luminance(colour.rgb); \nfloat lumTm=lum*_ExposureAdjustment;\nfloat scale=lumTm/(1.0+lumTm); \ncolour*=scale/lum;\n#elif defined(HABLE_TONEMAPPING)\ncolour*=_ExposureAdjustment;\nconst float ExposureBias=2.0;\nvec3 x=ExposureBias*colour;\nvec3 curr=((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\nx=vec3(W,W,W);\nvec3 whiteScale=1.0/(((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F);\ncolour=curr*whiteScale;\n#elif defined(OPTIMIZED_HEJIDAWSON_TONEMAPPING)\ncolour*=_ExposureAdjustment;\nvec3 X=max(vec3(0.0,0.0,0.0),colour-0.004);\nvec3 retColor=(X*(6.2*X+0.5))/(X*(6.2*X+1.7)+0.06);\ncolour=retColor*retColor;\n#elif defined(PHOTOGRAPHIC_TONEMAPPING)\ncolour= vec3(1.0,1.0,1.0)-exp2(-_ExposureAdjustment*colour);\n#endif\ngl_FragColor=vec4(colour.rgb,1.0);\n}`;\n// Sideeffect\n_shaderStore.ShaderStore.ShadersStore[name] = shader;\n/** @internal */\nconst tonemapPixelShader = exports.tonemapPixelShader = {\n  name,\n  shader\n};"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":4}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":16}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":19}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":7,"column":26}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":10,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":4,"column":6},"generated":{"line":10,"column":6}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":4,"column":10},"generated":{"line":10,"column":10}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":10,"column":13}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":4,"column":33},"generated":{"line":10,"column":33}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":11,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":5,"column":6},"generated":{"line":11,"column":6}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":5,"column":12},"generated":{"line":11,"column":12}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":5,"column":15},"generated":{"line":11,"column":15}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":47,"column":2},"generated":{"line":53,"column":2}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":48,"column":0},"generated":{"line":54,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":0},"generated":{"line":55,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":11},"generated":{"line":55,"column":24}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":55,"column":25}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":55,"column":37}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":55,"column":38}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":29},"generated":{"line":55,"column":42}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":30},"generated":{"line":55,"column":43}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":33},"generated":{"line":55,"column":46}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":49,"column":39},"generated":{"line":55,"column":52}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":50,"column":0},"generated":{"line":56,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":7},"generated":{"line":57,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":13},"generated":{"line":57,"column":6}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":57,"column":24}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":57,"column":27}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":57,"column":34}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":57,"column":35}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":31},"generated":{"line":57,"column":53}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":34},"generated":{"line":57,"column":56}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":58,"column":2}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":40},"generated":{"line":58,"column":6}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":42},"generated":{"line":59,"column":2}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":48},"generated":{"line":60,"column":0}},{"source":"../../../../lts/core/generated/Shaders/tonemap.fragment.ts","name":null,"original":{"line":51,"column":50},"generated":{"line":60,"column":1}}],"sources":{"../../../../lts/core/generated/Shaders/tonemap.fragment.ts":"// Do not edit.\nimport { ShaderStore } from \"../Engines/shaderStore\";\n\nconst name = \"tonemapPixelShader\";\nconst shader = `varying vec2 vUV;\runiform sampler2D textureSampler;\runiform float _ExposureAdjustment;\r#if defined(HABLE_TONEMAPPING)\nconst float A=0.15;\rconst float B=0.50;\rconst float C=0.10;\rconst float D=0.20;\rconst float E=0.02;\rconst float F=0.30;\rconst float W=11.2;\r#endif\nfloat Luminance(vec3 c)\r{\rreturn dot(c,vec3(0.22,0.707,0.071));\r}\r#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) \r{\rvec3 colour=texture2D(textureSampler,vUV).rgb;\r#if defined(REINHARD_TONEMAPPING)\nfloat lum=Luminance(colour.rgb); \rfloat lumTm=lum*_ExposureAdjustment;\rfloat scale=lumTm/(1.0+lumTm); \rcolour*=scale/lum;\r#elif defined(HABLE_TONEMAPPING)\ncolour*=_ExposureAdjustment;\rconst float ExposureBias=2.0;\rvec3 x=ExposureBias*colour;\rvec3 curr=((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;\rx=vec3(W,W,W);\rvec3 whiteScale=1.0/(((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F);\rcolour=curr*whiteScale;\r#elif defined(OPTIMIZED_HEJIDAWSON_TONEMAPPING)\ncolour*=_ExposureAdjustment;\rvec3 X=max(vec3(0.0,0.0,0.0),colour-0.004);\rvec3 retColor=(X*(6.2*X+0.5))/(X*(6.2*X+1.7)+0.06);\rcolour=retColor*retColor;\r#elif defined(PHOTOGRAPHIC_TONEMAPPING)\ncolour= vec3(1.0,1.0,1.0)-exp2(-_ExposureAdjustment*colour);\r#endif\ngl_FragColor=vec4(colour.rgb,1.0);\r}`;\n// Sideeffect\nShaderStore.ShadersStore[name] = shader;\n/** @internal */\nexport const tonemapPixelShader = { name, shader };\n"},"lineCount":null}},"error":null,"hash":"a7720993ca01ad8a7836254d6e86bda6","cacheData":{"env":{}}}